<html>
  <head>
    <title>Gif Stopper</title>
    <meta content="">
    <style type="text/css">
      body{
	text-align: center;	
      }
      h1{
	margin:20px;
      }
      #options
	{
	  margin-top:25px;
	  font-size:20px;
	}	
      #save
      {
	width:100px;
	padding:5px;
	font-size:14px;
      }
      #footer{
	font-size:14px;
	margin-top:75px;
      }
    </style>
  </head>
      
<script>    
function save_options() {
  var stopGifs = document.getElementById("stopGifs").checked;
  var whitelist = document.getElementById("whitelist").value;

  window.localStorage.setItem("stopGifs", stopGifs);
  window.localStorage.setItem("whitelist", whitelist);

  var status = document.getElementById("status");
  //var r = window.localStorage.getItem("stopGifs");
  status.innerHTML = "***Options Saved.***";
  setTimeout(function() {
    status.innerHTML = "";
  }, 1500);
}

function restore_options() {
  	
  var stopGifs = window.localStorage.getItem("stopGifs");
  var whitelist = window.localStorage.getItem("whitelist");
  
  if (!stopGifs) {
    document.getElementById('stopGifs').checked = false;
  }else{
    document.getElementById('stopGifs').checked = toBool(stopGifs); 
  }
  
  document.getElementById('whitelist').value=whitelist;
  displayWhiteList();
}

function toBool(str){
   if ("false" === str)
      return false;
   else 
      return str;
}

function displayWhiteList(){
    
    if ( document.getElementById('stopGifs').checked == true){
	document.getElementById('pWhiteList').style.display = "block";
    } else {
	document.getElementById('pWhiteList').style.display = "none";
    }
    return
}
</script>

<body onload="restore_options()">

<h1>
	Gif Stopper Options
</h1>


<p id="options">
  <input type="checkbox" name="stopGifs" id="stopGifs" onclick="displayWhiteList()">
  Automatically disable Gif Animations.
  <div id="pWhiteList">

  <h2>* Whitelist *</h2>
  Enter list of sites that you always want to see the animated gifs.<br /> 
  Place one site's URL per line and do not prefix the http(s)://<br /> 
  Example:  www.motersho.com<br>
  <br />
  <textarea id="whitelist" name="whitelist" cols="40" rows="20"></textarea>
  </div>
<br /><br />
  <button onclick="save_options()" id="save">Save</button>
  <div id="status"></div>
</p>


<p id="footer">
  Written By: <a href="http://motersho.com">Terry Moore</a>. <br />
  Please send me an <a href="mailto:motersho@gmail.com">email</a> if you use this, like this, hate this, or find a bug <br />
  Or <a href="http://www.twitter.com/motersho">follow me on Twitter</a>
</p>
</body>

  </body>
</html>